# `@suitegeezus/eslint-sdf-xml-parser`

Custom ESLint parser for XML files generated by SDF. 
Based originally on `eslint-html-parser` but this project is very different now and supports no js parsing at all.

## Installation

```terminal
$ npm install --save-dev eslint-sdf-xml-parser
```

- Requires ESLint 7.x or later (peer dependency)

## Usage

1. Add the `parser` option to your `.eslintrc.*` file.
2. Use glob patterns or the `--ext` CLI option to target sdf file (e.g. ) `Objects/**/cust*.xml`

```json
{
    "parser": "eslint-html-parser"
}
```

```terminal
$ eslint "src/Objects/**/*.xml"
# or
$ eslint --ext .xml src/Objects
```

## Options

Within your `.eslintrc.*` file, the `parserOptions` property supports the same options as [htmlparser2](https://github.com/fb55/htmlparser2/wiki/Parser-options)

```json
{
    "parser": "eslint-html-parser",
    "parserOptions": {
        "sourceType": "module",
        "ecmaVersion": 2018,
        "ecmaFeatures": {
            "globalReturn": false,
            "impliedStrict": false,
            "jsx": false
        }
    }
}
```


## Usage for custom rules/plugins

Xml files are parsed into an AST, which can be traversed, examined, and linted with the visitor pattern like any other 
ESLint source.  The Xml AST that is produced has the following types of nodes and structure:

- XmlElement
  - tagName: string
  - parent: HTMLElement
  - attributes: HTMLAttribute[]
  - children: (HTMLElement | HTMLText | HTMLComment)[]

- HTMLAttribute
  - parent: HTMLElement
  - attribName: string
  - attribValue: string

- HTMLText
  - parent: HTMLElement
  - value: string

- HTMLComment
  - parent: HTMLElement
  - text: string
